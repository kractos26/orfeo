/********************
Desarrollo de registro de soportes.

1.	REQUERIMIENTO

	Para el control y análisis de los distintos requerimientos, solicitudes, errores , se requiere la creación de una aplicación para el registro y monitoreo de estos eventos desde SGD-ORFEO.

2.	PARÁMETROS  REQUERIDOS

Las principales características con las que debe  contar el sistema son las siguientes.
	Una ventana para el registro de los nuevos eventos.
	Al realizar un nuevo evento debe quedar guardado:
	Día
	Usuario que coloco el evento
	Comentario
	Tipo de solicitud
	Fecha de cierre
	Estado de la solicitud
	Para la visualización de los distintos eventos se requieren filtros que permitan cambiar la búsqueda de eventos de la siguiente manera:
	No ticket
	Tipo de soporte
	Usuario
	Estado
	Permisos para que solo el usuario que puso el evento pueda cambiar el estado de abierto a cerrado.
	Permisos para que solo el administrador del tipo de solicitud pueda realizar los comentario respectivo o las observaciones que se requieran.
	Mostrar las distintas observaciones realizadas por el usuario y administrador del tipo de solicitud.
	Una ventana para permitir la creación de comentarios sobre un ticket creado. 
	Administracion para agregar a un responsable dependiendo del tipo de solicitud seleccionada






//V. INICIAL PARA ORACLE - SCRIPT BASE DE DATOS

  
  CREATE TABLE "FLDOC2"."SGD_TSOP_TIPOSOPORTE" 
   (	"SGD_TSOP_ID" NUMBER(6,0) DEFAULT NULL NOT NULL ENABLE, 
	"SGD_TSOP_DESCR" VARCHAR2(150 BYTE) NOT NULL ENABLE, 
	"SGD_TSOP_DEPE_CODI" NUMBER(4,0), 
	"SGD_TSOP_USUA_CODI" NUMBER(4,0), 
	"SGD_TSOP_ESTADO" NUMBER(1,0) DEFAULT 0 NOT NULL ENABLE, 
	 CONSTRAINT "SGD_TSOP_TIPOSOPORTE_PK1" UNIQUE ("SGD_TSOP_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "ORFEO_DATOS"  ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS NOLOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "ORFEO_DATOS" ;
 

   COMMENT ON COLUMN "FLDOC2"."SGD_TSOP_TIPOSOPORTE"."SGD_TSOP_ID" IS 'Identificador del tipo de soporte que se secrea';
 

  CREATE UNIQUE INDEX "FLDOC2"."SGD_TSOP_TIPOSOPORTE_PK1" ON "FLDOC2"."SGD_TSOP_TIPOSOPORTE" ("SGD_TSOP_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "ORFEO_DATOS" ;

  
  CREATE TABLE "FLDOC2"."SGD_SOP_SOPORTE" 
   (	"SGD_SOP_ID" NUMBER(6,0) NOT NULL ENABLE, 
	"USUA_CODI" NUMBER(10,0) NOT NULL ENABLE, 
	"DEPE_CODI" NUMBER(6,0) NOT NULL ENABLE, 
	"SGD_SOP_COMENT" VARCHAR2(600 BYTE) NOT NULL ENABLE, 
	"SGD_SOP_EST" NUMBER(1,0) DEFAULT 0 NOT NULL ENABLE, 
	"SGD_TSOP_ID" NUMBER(6,0) NOT NULL ENABLE, 
	"SGD_SOP_FECHAINI" DATE NOT NULL ENABLE, 
	"SGD_SOP_FECHAFIN" DATE, 
	 UNIQUE ("SGD_SOP_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "ORFEO_DATOS"  ENABLE, 
	 CONSTRAINT "SGD_SOP_SOPORTE_FK2" FOREIGN KEY ("SGD_TSOP_ID")
	  REFERENCES "FLDOC2"."SGD_TSOP_TIPOSOPORTE" ("SGD_TSOP_ID") ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS NOLOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "ORFEO_DATOS" ;
 

   COMMENT ON COLUMN "FLDOC2"."SGD_SOP_SOPORTE"."SGD_SOP_ID" IS 'Identificador del numero del soporte';
 
   COMMENT ON COLUMN "FLDOC2"."SGD_SOP_SOPORTE"."USUA_CODI" IS 'Codigo del usaurio que crea el soporte';
 
   COMMENT ON COLUMN "FLDOC2"."SGD_SOP_SOPORTE"."DEPE_CODI" IS 'Dependencia del usuario que crea el soporte';
 
   COMMENT ON COLUMN "FLDOC2"."SGD_SOP_SOPORTE"."SGD_SOP_COMENT" IS 'comentario del soporte';
 
   COMMENT ON COLUMN "FLDOC2"."SGD_SOP_SOPORTE"."SGD_SOP_EST" IS 'Estado del soporte, especifica si esta con o sin respuesta';
 
   COMMENT ON COLUMN "FLDOC2"."SGD_SOP_SOPORTE"."SGD_TSOP_ID" IS 'Tabla relacionada con el tipo de soporte.';
 
   COMMENT ON COLUMN "FLDOC2"."SGD_SOP_SOPORTE"."SGD_SOP_FECHAINI" IS 'Fecha de inicio del soporte';
 
   COMMENT ON COLUMN "FLDOC2"."SGD_SOP_SOPORTE"."SGD_SOP_FECHAFIN" IS 'Fecha de finalización del proceso';
 

  CREATE UNIQUE INDEX "FLDOC2"."SYS_C0024345" ON "FLDOC2"."SGD_SOP_SOPORTE" ("SGD_SOP_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "ORFEO_DATOS" ;
 

  CREATE TABLE "FLDOC2"."SGD_CSOP_COMENT" 
   (	"SGD_CSOP_ID" NUMBER(6,0) NOT NULL ENABLE, 
	"SGD_SOP_ID" NUMBER(6,0) NOT NULL ENABLE, 
	"SGD_CSOP_COMENT" VARCHAR2(600 BYTE) NOT NULL ENABLE, 
	"USUA_CODI" NUMBER(10,0) NOT NULL ENABLE, 
	"DEPE_CODI" NUMBER(6,0) NOT NULL ENABLE, 
	"SGD_CSOP_FECHA" DATE NOT NULL ENABLE, 
	 CONSTRAINT "SGD_CSOP_COMENT_PK1" UNIQUE ("SGD_CSOP_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "ORFEO_DATOS"  ENABLE, 
	 CONSTRAINT "SGD_CSOP_COMENT_FK2" FOREIGN KEY ("SGD_SOP_ID")
	  REFERENCES "FLDOC2"."SGD_SOP_SOPORTE" ("SGD_SOP_ID") ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS NOLOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "ORFEO_DATOS" ;
 

   COMMENT ON COLUMN "FLDOC2"."SGD_CSOP_COMENT"."SGD_CSOP_ID" IS 'Identificacion del comentario realizado a un soporte';
 
   COMMENT ON COLUMN "FLDOC2"."SGD_CSOP_COMENT"."SGD_SOP_ID" IS 'No de identificacion del soporte al cual se le realiza el comentario';
 
   COMMENT ON COLUMN "FLDOC2"."SGD_CSOP_COMENT"."USUA_CODI" IS 'Codigo del usuario que realiza la transacción ';
 
   COMMENT ON COLUMN "FLDOC2"."SGD_CSOP_COMENT"."DEPE_CODI" IS 'Dependencia a la que pertenece el usuario que realiza la transacción';
 
   COMMENT ON COLUMN "FLDOC2"."SGD_CSOP_COMENT"."SGD_CSOP_FECHA" IS 'Fecha en la cual se realizo la transacción';
 

  CREATE UNIQUE INDEX "FLDOC2"."SGD_CSOP_COMENT_PK1" ON "FLDOC2"."SGD_CSOP_COMENT" ("SGD_CSOP_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "ORFEO_DATOS" ;
 
